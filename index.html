import React, { useState } from 'react';
import { ChevronDown, ChevronRight, Book, List, AlertTriangle, Activity, Eye, Heart, MessageCircle, Play, Briefcase, Zap, Compass, Focus, Sun, Shield, Star } from 'lucide-react';

const Node = ({ title, children, icon: Icon }) => {
  const [isExpanded, setIsExpanded] = useState(false);

  return (
    <div className="mb-4 border rounded-lg overflow-hidden">
      <div 
        className="flex items-center cursor-pointer bg-gray-100 p-3 hover:bg-gray-200 transition-colors"
        onClick={() => setIsExpanded(!isExpanded)}
      >
        {Icon && <Icon className="mr-2" size={20} />}
        {isExpanded ? <ChevronDown size={20} /> : <ChevronRight size={20} />}
        <span className="ml-2 font-semibold">{title}</span>
      </div>
      {isExpanded && (
        <div className="p-3 bg-white">
          {children}
        </div>
      )}
    </div>
  );
};

const FourNobleTruths = () => (
  <Node title="Four Noble Truths" icon={Book}>
    <ol className="list-decimal list-inside">
      <li>The truth of suffering (Dukkha)</li>
      <li>The truth of the origin of suffering (SamudƒÅya)</li>
      <li>The truth of the cessation of suffering (Nirodha)</li>
      <li>The truth of the path to the cessation of suffering (Magga)</li>
    </ol>
  </Node>
);

const NobleEightfoldPath = () => (
  <Node title="Noble Eightfold Path" icon={Compass}>
    <ul className="list-disc list-inside">
      <li>Right View</li>
      <li>Right Intention</li>
      <li>Right Speech</li>
      <li>Right Action</li>
      <li>Right Livelihood</li>
      <li>Right Effort</li>
      <li>Right Mindfulness</li>
      <li>Right Concentration</li>
    </ul>
  </Node>
);

const Brahmaviharas = () => (
  <Node title="Brahmaviharas (Four Divine Abodes)" icon={Heart}>
    <ul className="list-disc list-inside">
      <li>Metta (Loving-kindness)</li>
      <li>Karuna (Compassion)</li>
      <li>Mudita (Sympathetic Joy)</li>
      <li>Upekkha (Equanimity)</li>
    </ul>
  </Node>
);

const ThirtySevenFactors = () => (
  <Node title="37 Factors of Enlightenment" icon={List}>
    <ul className="list-disc list-inside">
      <li>Four Foundations of Mindfulness</li>
      <li>Four Right Efforts</li>
      <li>Four Bases of Spiritual Power</li>
      <li>Five Spiritual Faculties</li>
      <li>Five Powers</li>
      <li>Seven Factors of Enlightenment</li>
      <li>Noble Eightfold Path</li>
    </ul>
  </Node>
);

const Vinayas = () => (
  <Node title="Vinayas (Monastic Discipline)" icon={Shield}>
    <ul className="list-disc list-inside">
      <li>Patimokkha: The basic code of monastic discipline</li>
      <li>Guidelines for daily life, including diet, dress, and interactions</li>
      <li>Procedures for ordination and addressing misconduct</li>
    </ul>
  </Node>
);

const Paramitas = () => (
  <Node title="Paramitas (Perfections)" icon={Star}>
    <Node title="Six Paramitas (Mahayana)" icon={Star}>
      <ol className="list-decimal list-inside">
        <li>Dana (Generosity)</li>
        <li>Sila (Ethical Conduct)</li>
        <li>Ksanti (Patience)</li>
        <li>Virya (Diligence)</li>
        <li>Dhyana (Meditation)</li>
        <li>Prajna (Wisdom)</li>
      </ol>
    </Node>
  </Node>
);

const Obstacles = () => (
  <Node title="Obstacles" icon={AlertTriangle}>
    <Node title="Five Hindrances" icon={AlertTriangle}>
      <ul className="list-disc list-inside">
        <li>Sensory desire</li>
        <li>Ill will</li>
        <li>Sloth and torpor</li>
        <li>Restlessness and worry</li>
        <li>Doubt</li>
      </ul>
    </Node>
    <Node title="Ten Fetters" icon={AlertTriangle}>
      <ul className="list-disc list-inside">
        <li>Self-belief</li>
        <li>Doubt in the teachings</li>
        <li>Attachment to rites and rituals</li>
        <li>Sensual desire</li>
        <li>Ill will</li>
        <li>Lust for material existence</li>
        <li>Lust for immaterial existence</li>
        <li>Conceit</li>
        <li>Restlessness</li>
        <li>Ignorance</li>
      </ul>
    </Node>
  </Node>
);

const BuddhismExplorer = () => {
  const [activeTab, setActiveTab] = useState('overview');

  return (
    <div className="max-w-2xl mx-auto p-4">
      <h1 className="text-3xl font-bold mb-6 text-center">Buddhism Explorer</h1>
      <div className="flex flex-wrap mb-4 border-b">
        <button 
          className={`py-2 px-4 ${activeTab === 'overview' ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}
          onClick={() => setActiveTab('overview')}
        >
          Overview
        </button>
        <button 
          className={`py-2 px-4 ${activeTab === 'practices' ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}
          onClick={() => setActiveTab('practices')}
        >
          Practices
        </button>
        <button 
          className={`py-2 px-4 ${activeTab === 'monastic' ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}
          onClick={() => setActiveTab('monastic')}
        >
          Monastic Life
        </button>
        <button 
          className={`py-2 px-4 ${activeTab === 'virtues' ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}
          onClick={() => setActiveTab('virtues')}
        >
          Virtues
        </button>
        <button 
          className={`py-2 px-4 ${activeTab === 'obstacles' ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}
          onClick={() => setActiveTab('obstacles')}
        >
          Obstacles
        </button>
      </div>
      {activeTab === 'overview' && (
        <div>
          <p className="mb-4">
            Buddhism is a path of practice and spiritual development leading to insight into the true nature of reality. 
            Explore key Buddhist concepts below:
          </p>
          <FourNobleTruths />
          <NobleEightfoldPath />
          <ThirtySevenFactors />
        </div>
      )}
      {activeTab === 'practices' && (
        <div>
          <p className="mb-4">Buddhist practices are designed to cultivate wisdom, compassion, and liberation.</p>
          <NobleEightfoldPath />
          <Brahmaviharas />
        </div>
      )}
      {activeTab === 'monastic' && <Vinayas />}
      {activeTab === 'virtues' && (
        <div>
          <Brahmaviharas />
          <Paramitas />
        </div>
      )}
      {activeTab === 'obstacles' && <Obstacles />}
    </div>
  );
};

export default BuddhismExplorer;
